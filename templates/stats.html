{% extends "layout.html" %}

{% block title %}
    Results
{% endblock %}

{% block main %}
    <form action="/edit" method="post">
        <div class="container">
            <div class="row">
                <!-- User Input -->
                <div class="col-md-4">
                    <div class="card mb-4">
                        <h2 class="card-header" id="input-here">Your Info</h2>
                        <div class="card-body">
                            <label for="savings">Current Savings</label>
                            <div class="input-group mb-3" id="money">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">$</span>
                                </div>
                                <input autocomplete="off" class="form-control" name="savings" value="{{savings}}" placeholder="20000" type="number" step="1000" min="0" required>
                            </div>
                            <label for="salary">Current Salary</label>
                            <div class="input-group mb-3" id="money">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">$</span>
                                </div>
                                <input class="form-control" name="salary" value="{{salary}}" placeholder="40000" type="number" step="1000" min="0" required>
                            </div>
                            <label for="savingRate">Percent of Salary Saved</label>
                            <div class="input-group mb-3" id="percent">
                                <input class="form-control" name="savingRate" value="{{savingRate}}" placeholder="10.0" type="number" step="0.5" min="0" max="100" required>
                                <div class="input-group-append">
                                    <span class="input-group-text">%</span>
                                </div>
                            </div>
                            <label for="yieldAnnual">Expected Annual Return</label><br>
                            <div class="input-group mb-3" id="percent">
                                <input class="form-control" name="yieldAnnual" value="{{yieldAnnual}}" placeholder="6.5" type="number" step="0.5" required>
                                <div class="input-group-append">
                                    <span class="input-group-text">%</span>
                                </div>
                            </div>
                            <label for="payIncrease">Expected Annual Raise</label><br>
                            <div class="input-group mb-3" id="percent">
                                <input class="form-control" name="payIncrease" value="{{payIncrease}}" placeholder="1.5" type="number" step="0.5" min="0" max="100" required>
                                <div class="input-group-append">
                                    <span class="input-group-text">%</span>
                                </div>
                            </div>
                            <label for="age">Current Age</label>
                            <div class="input-group mb-3" id="yearsold">
                                <input class="form-control" name="age" value="{{age}}" placeholder="35" type="number" min="0" max="100" required>
                            </div>
                            <label for="retirementAge">Expected Retirement Age</label>
                            <div class="input-group mb-3" id="yearsold">
                                <input class="form-control" name="retirementAge" value="{{retirementAge}}" placeholder="67" type="number" min="30" max="100" required>
                            </div>
                            <label for="expense">Desired Annual Expense During Retirement</label>
                            <div class="input-group mb-3" id="money">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">$</span>
                                </div>
                                <input class="form-control" name="expense" value="{{expense}}" placeholder="70000" type="number" step="1000" min="0" required>
                            </div>
                            <button class="btn btn-primary" type="submit">Submit</button>
                        </div>
                        <div class="card-footer text-muted"></div>
                    </div>
                </div>
                <!-- Visualization and stats-->
                <div class="col-md-8">
                    <!-- Visual --->
                    <div class="card my-8">
                        <h2 class="card-header" id="output-here">Retirement Prediction</h2>
                        <div class="card-body" id="visual">
                            <img src='data:image/png;base64,{{ graph }}'/>
                        </div>
                    </div>
                    <!-- Stats -->
                    <div class="card my-4">
                        <h2 class="card-header" id="output-statistics">Statistics</h2>
                        <div class="card-body" id="statistics">
                            <div class="row">
                                <div class="col-md-12">
                                    <ul class="list-unstyled mb-0">
                                        <li>Peak Savings: {{ peak }}</li>
                                        <li>Run out of money at age: {{ empty }}</li>
                                        <li>Principle = {{ principle }}</li>
                                        <li>Interest = {{ interest }}</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
{% endblock %}